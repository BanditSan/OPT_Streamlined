// WBI for OPT Spaceplane
// Author: JadeOfMaar

// Removes dependency on Firespitter and Interstellar Fuel Switch.
// Supports Snacks and TAC LS. Do not use with USI LS and OPT_USI patch.
// Adds resource switching to all parts with few, OPT-specific templates to reduce clutter when picking modules.
// Cockpits and cabins get fuel, KIS and snacks options.
// Cockpits get AirPark feature.
// Cargo and hollow bays get all default storage options.
// Remaining fuel tanks, inline SAS and wings get only fuel options.
// Labs get Doc Science Lab features.
// H cabin gets KIS and snacks options, and Geology lab, but no fuel.
// H noses get fuel, snacks and SAS options.
// Antenna gets WBI Geo scanner features.

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =   
// Tank Templates
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = LFO
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/BiPropLFO
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/BiPropLFOGlow
	description = This kit stores LiquidFuel and Oxidizer, required by most rocket engines, namely the Dark Drive.
	templateTags = stowage
	RESOURCE
	{
		 name = LiquidFuel
		 amount = 810
		 maxAmount = 810
	}
	RESOURCE
	{
		name = Oxidizer
		amount = 990
		maxAmount = 990
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = LiquidFuel
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/PropLF
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/PropLFGlow
	description = This kit stores only LiquidFuel, required by OPT's mighty air-breathing engines and the Legacy ARI-73 rocket engine.
	templateTags = stowage
	RESOURCE
	{
		name = LiquidFuel
		amount = 1800
		maxAmount = 1800
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = Oxidizer
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Prop
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/PropGlow
	description = This kit stores Oxidizer.
	templateTags = stowage
	RESOURCE
	{
		name = Oxidizer
		amount = 1800
		maxAmount = 1800
	}
}

OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = OPT-LH2
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/PropCryoLight
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/PropCryoLightGlow
	description = This kit stores liquid Hydrogen, a very popular high-efficiency propellant. OPT's chief engineering staff could not be reached when an inquiry was opened into how this kind of tank capacity was achieved on top of Wild Blue Industries' tech.
	templateTags = stowage
	
	MODULE:NEEDS[SimpleBoiloff]
	{
		name =  ModuleCryoTank
		moduleIsEnabled = false
		FuelName = LqdHydrogen
		// in % per hour
		BoiloffRate = 0.05
		// in Ec per 1000 units per second
		CoolingCost = 0.08

		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = WBICryoTankUpgrade
				description__ = Zero Boil Off Enabled
				moduleIsEnabled = true
			}
		}
	}
	
	RESOURCE
	{
		name = LqdHydrogen
		amount = 21000
		maxAmount = 21000
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = OPT-LH2O
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/BiPropCryo
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/BiPropCryoGlow
	description = This kit stores liquid Hydrogen and Oxidizer, a very popular  combination for high efficiency heavy lifters. OPT's chief engineering staff could not be reached when an inquiry was opened into how this kind of capacity was achieved on top of Wild Blue Industries' tech.
	templateTags = stowage
	
	MODULE:NEEDS[SimpleBoiloff]
	{
		name =  ModuleCryoTank
		moduleIsEnabled = false
		FuelName = LqdHydrogen
		// in % per hour
		BoiloffRate = 0.05
		// in Ec per 1000 units per second
		CoolingCost = 0.08

		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = WBICryoTankUpgrade
				description__ = Zero Boil Off Enabled
				moduleIsEnabled = true
			}
		}
	}
	
	RESOURCE
	{
		name = LqdHydrogen
		amount = 10500
		maxAmount = 10500
	}
	RESOURCE
	{
		name = Oxidizer
		amount = 700
		maxAmount = 700
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = MonoProp
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/PropHydra
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/PropHydraGlow
	description = This kit stores MonoPropellant for OPT's power-hungry RCS blocks.
	templateTags = stowage
	RESOURCE
	{
		name = MonoPropellant
		amount = 1800
		maxAmount = 1800
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	name = Battery
	author = JadeOfMaar
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Battery
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/BatteryGlow
	description = This kit stores ElectricCharge for OPT's power-hungry engines!
	templateTags = stowage
	RESOURCE
	{
		name = ElectricCharge
		amount = 7200
		maxAmount = 7200
	}
}
OPT_TEMPLATE:NEEDS[Pathfinder]
{
	author = JadeOfMaar
	name = Empty
	description = Sometimes we just want the hull and nothing else.
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Void
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/Void
}

OPT_TEMPLATE
{
	name = Omni Storage
	author = Angel-125
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Omni
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/OmniGlow
	description = This kit can store a wide variety of resources in varying amounts.
	templateTags = stowage

	MODULE
	{
		name = WBIOmniStorage

		//In liters, how much can the part store.
		//Note: this is a standard size for a switcher capacity of 1.0 and based on
		//the Titan 1800 fuel tank standard (on which the templates were originally based).
		//Actual volume depends upon switcher's capacityFactor.
		storageVolume = 9000

		//Adjust storage volume to account for resource switcher's capacity factor.
		accountForSwitcherCapacity = true

		//Skill required to reconfigure the container.
		reconfigureSkill = ConverterSkill

		//Minimum rank to reconfigure the container.
		reconfigureRank = 1

		//Resource required to reconfigure the container.
		requiredResource = Equipment

		//Amount of the required resource to reconfigure the container.
		requiredAmount = 0

		//Blacklisted resources that can't be added to the container.
		//Separate by semicolon. Below is the default.
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}
OPTSNACKS_TEMPLATE:NEEDS[Pathfinder,SnacksUtils]
{
	name = Snacks
	author = JadeOfMaar
	shortName = Snacks
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Snacks
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/SnacksGlow
	description = This kit mainly stores Snacks but also provides some space for Soil.
	templateTags = stowage
	RESOURCE
	{
		name = Snacks
		amount = 1440
		maxAmount = 1440
	}
	RESOURCE
	{
		name = Soil
		amount = 0
		maxAmount = 360
	}
}
OPTTAC_TEMPLATE:NEEDS[Pathfinder,TacLifeSupport]
{
	name = TAC
	author = JadeOfMaar
	shortName = TAC LS
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Food
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/FoodGlow
	description = This kit stores the essentials...and non-essentials, for the fine patrons of Thunder Aerospace Corporation.
	templateTags = stowage
	RESOURCE
	{
		name = Food
		amount = 1038.3
		maxAmount = 1038.3
	}
	RESOURCE
	{
		name = Water
		amount = 686.3
		maxAmount = 686.3
	}
	RESOURCE
	{
		name = Oxygen
		amount = 105113.2
		maxAmount = 105113.2
	}
	RESOURCE
	{
		name = CarbonDioxide
		amount = 0
		maxAmount = 172334.5
	}
	RESOURCE
	{
		name = WasteWater
		amount = 0
		maxAmount = 1658.8
	}
	RESOURCE
	{
		name = Waste
		amount = 0
		maxAmount = 179.2
	}
}
OPTKIS_TEMPLATE:NEEDS[Pathfinder,KIS]
{
	name = KIS
	author = JadeOfMaar
	shortName = Storage
	title = Storage
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Storage
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/StorageGlow
	requiresModule = ModuleKISInventory
	description = This kit stores, well, anything it can hold. OPT's staff and any passengers are afforded ample room to carry (usually) important luggage.
	isKISInventory = True
	templateTags = stowage
}

OPTSCI_TEMPLATE:NEEDS[Pathfinder]
{
	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.0001
		dataIsCollectable = False
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}
	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.0001
		dataIsCollectable = False
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}
	
	MODULE
	{
		name = WBIExperimentManifest
		defaultExperiment = WBIEmptyExperiment
	}
}

OPTCMD_TEMPLATE:NEEDS[Pathfinder]
{
	name = SAS
	author = JadeOfMaar
	logoPanel = OPT_Reconfig/Resources/Gyro
	glowPanel = OPT_Reconfig/Resources/Gyro
	description = This configuration provides a 1.25m equivalent reaction wheel set and extra battery packs. It is only available to the OPT Mk2 nose and H class noses.
	reconfigureSkill = ConverterSkill
	mass = 0.1
	requiredResource = Equipment
	requiredAmount = 4

	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 25
		YawTorque = 25
		RollTorque = 25
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.55
		}
	}
	RESOURCE
	{
		 name = ElectricCharge
		 amount = 4500
		 maxAmount = 4500
	}
}

OPTFACTORY_A
{
	name = OPT OmniShop
	description = OmniShop for OPT enables the Avatar cockpit adapter to hold (appropriate for its size) a half-dozen hab class OmniConverters and a small buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniShopA
	glowPanel = OPT_Reconfig/Resources/OmniShopA
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniShop
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 5
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 5
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 6
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 6
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 2000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}

OPTFACTORY_H
{
	name = OPT OmniWorks
	description = OmniWorks for OPT enables a full length H fuel tank to hold (appropriate for its size) a handful of any class of OmniConverters and a small buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniWorksH
	glowPanel = OPT_Reconfig/Resources/OmniWorksH
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniWorks
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 5000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}

OPTFACTORY_J1
{
	name = OPT OmniShop
	description = OmniShop for OPT enables a J Crew Tank to hold (appropriate for its size) a half-dozen of hab class OmniConverters and a small buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniShopJ
	glowPanel = OPT_Reconfig/Resources/OmniShopJ
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniShop
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 5
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 5
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 6
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 6
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 2000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}

OPTFACTORY_J2
{
	name = OPT OmniWorks
	description = OmniWorks for OPT enables a full length J or Stail class tank to hold (appropriate for its size) several of any class of OmniConverters and a moderate buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniWorksJK
	glowPanel = OPT_Reconfig/Resources/OmniWorksJK
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniWorks
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 5
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 5
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 6
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 6
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 7
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 7
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 8
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 8
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 5000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}


OPTFACTORY_K
{
	name = OPT OmniWorks
	description = OmniWorks for OPT enables an Avatar or a K 6m Fuel Tank to hold (appropriate for its size) several of any class of OmniConverters and a small buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniWorksJK
	glowPanel = OPT_Reconfig/Resources/OmniWorksJK
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniWorks
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 5
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 5
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 6
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 6
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 7
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 7
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 8
		templateNodes = OMNICONVERTER
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 8
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 5000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}

OPTFACTORY_L1
{
	name = OPT OmniShop
	description = OmniShop for OPT enables a Humpback class crew compartment to hold (appropriate for its size) several hab class of OmniConverters and a generous buffer volume for storage. When our crew or passengers need industrial capacity on the go, they can now have some built-in.
	mass = 1.5
	requiredResource = Equipment
	requiredAmount = 150
	reconfigureSkill = ConverterSkill
	logoPanel = OPT_Reconfig/Resources/OmniShopL
	glowPanel = OPT_Reconfig/Resources/OmniShopL
	toolTip = Don't like letting converters sit idle? With the OmniShop, now you can set up the exact converters that you want!
	toolTipTitle = Your First OmniShop
	templateTags = humpback
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 2
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 2
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 3
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 3
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 4
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 4
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 5
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 5
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 6
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 6
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 7
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 7
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 8
		templateNodes = OMNICONVERTER
		templateTags = hab
		BaseEfficiency = 1.0
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 300
		ConverterName = OmniConverter 8
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
	MODULE
	{
		name = WBIOmniStorage
		storageVolume = 5000
		accountForSwitcherCapacity = true
		reconfigureSkill = ConverterSkill
		reconfigureRank = 1
		requiredResource = Equipment
		requiredAmount = 0
		resourceBlacklist = GeoEnergy;ElectroPlasma;CoreHeat;Atmosphere;CompressedAtmosphere;LabTime;ExposureTime;ScopeTime;SolarReports;SimulatorTime;GravityWaves;IntakeAir;StaticCharge;EVA Propellant;Plants
	}
}

// Dark Goo Science OmniConverter

OMNICONVERTER:NEEDS[Pathfinder]
{
	templateTags = lab
	TechRequired = advExploration
	ConverterName = Dark Goo Science
	description = Produce Dark Science required for charging an OPT Dark Drive.
	StartActionName = Start Dark Goo Science
	StopActionName = Stop Dark Goo Science
	AutoShutdown = false
	UseSpecialistBonus = true
	SpecialistEfficiencyFactor = 0.2
	SpecialistBonusBase = 0.05
	ExperienceEffect = ScienceSkill
	EfficiencyBonus = 1
	 
	INPUT_RESOURCE
	{
		ResourceName = ElectricCharge
		Ratio = 10
		resourceFlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = DarkScience
		Ratio = 0.1
		resourceFlowMode = ALL_VESSEL
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Antenna
@PART[OPTantenna]:NEEDS[Pathfinder]
{
	MODULE
	{
		name = ModuleOrbitalSurveyor
		ScanTime = 90 // 60
		SciBonus = 20 // 25
	}

	MODULE
	{
		name = ModuleOrbitalScanner
		CheckForLock = true
	}	
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Cockpits
@PART[mk2_cockpit|mk2_cockpitv2]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 250
		maxAmount = 250
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.03
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[mk3Cockpit_Airliner]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 250
		maxAmount = 250
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.16
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[a_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {} 
	!RESOURCE[MonoPropellant] {} 
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 1000
		maxAmount = 1000
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.06
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[a_8m_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {} 
	!RESOURCE[MonoPropellant] {} 
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 1000
		maxAmount = 1000
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.667
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.3
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b_cockpit_qs]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {} 
	!RESOURCE[MonoPropellant] {} 
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	%RESOURCE[IntakeAir]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = Atmosphere
		!checkForOxygen = false
	}
	
	%RESOURCE[Atmosphere]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.18
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[SnacksUtils]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 4
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[i_4m_cockpit_isp|phoenix_cockpit|ils_cockpitv2|ils_cockpit_mk1|mk23_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 800
		maxAmount = 800
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.06
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 800
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[i_4m_cockpit_ispb]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 800
		maxAmount = 800
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.06
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 800
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_cockpit|j_cockpitv2|j_cockpit_qs_no_intake]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.33
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 5
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[j_cockpit_qs|j_6m_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = Atmosphere
		!checkForOxygen = false
	}
	
	%RESOURCE[Atmosphere]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.33
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 6
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[k_10m_cockpit|k_10m_cockpit_legacy|k_10m_cockpit_custom]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = Atmosphere
		!checkForOxygen = false
	}
	
	%RESOURCE[Atmosphere]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[l_8m_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 7
		%maxAmount = 7
	}
	
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = Atmosphere
		!checkForOxygen = false
	}
	
	%RESOURCE[Atmosphere]
	{
		%amount = 7
		%maxAmount = 7
	}
    
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.9
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 10
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Labs
@PART[j_4m_lab|b_4m_lab]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	!MODULE[ModuleScienceConverter] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 4000
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIScienceConverter
		scientistBonus = 0.25	//Bonus per scientist star - need at least one! So 0.25x - 2.5x 
		researchTime = 7	//Larger = slower.Exponential!
		scienceMultiplier = 5	//How much science does data turn into?
		fundsPerData = 100.0 // How many Funds per point of data 
		reputationPerData = 1.0//How much Reputation per point of data
		scienceCap = 1050	//How much science can we store before having to transmit?		
		powerRequirement = 5	//EC/Sec to research
		ConverterName = Research
		StartActionName = Start Research
		StopActionName = Stop Research
	}
	
	MODULE
	{
		name = WBIMultipurposeLab
		enableLogging = True
		showGUI = True
		// isInflatable = False
		// animationName = 
		// startEventGUIName = Initialize
		// endEventGUIName = De-initialize
		
		// inflatedCrewCapacity = 2
		capacityFactor = 0.9
		fieldReconfigurable = true
		
		templateNodes = PATH_SCIENCE
		defaultTemplate = DocScience
		
		logoPanelTransforms = // logoPanel001, logoPanel002, logoPanel003, logoPanel004
		decalsVisible = False
		
		// If KIS mode
		baseStorage = 4000
		maxStorage = 4000
		
		resourcesToKeep = ElectricCharge;Snacks
	}
	
	MODULE
	{
		name = WBIEfficiencyMonitor
		efficiencyType = science
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// Add OPT labs to WBI experiment whitelist
// @EXPERIMENT_DEFINITION:HAS[#id[WBI*]]:NEEDS[Pathfinder]
// {
	// requiredPart = OPT J Mobile Lab LP3
	// requiredPart = OPT 'Stail' Class Mobile Processing Lab LP3
// }

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Bays and Tails
@PART[j_4m_cargo|j_4m_service|i_4m_tail|b_engineMount_4|j_engineMount_4]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = STORAGE_TEMPLATE;SPICE_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.9
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 4000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[k_3m_fuselage|kh_3m_fuselage|k_3m_cargo|kh_3m_cargo|kh_7m_cargoTail_variant]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = STORAGE_TEMPLATE;SPICE_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.3
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 10000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[kh_6m_cargo|kh_6m_fuselage|k_6m_cargo|k_6m_fuselage|l_6m_cargo|l_6m_fuselage]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = STORAGE_TEMPLATE;SPICE_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 20000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_6m_cargoTail|b_4m_tail|c_6m_cargoTail|j_5m_tail|j_deploymentBay|k_7m_cargoTail_variant]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 10
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = STORAGE_TEMPLATE;SPICE_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.0
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 20000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Cabins
@PART[h_3m_crew_mm|h_3m_crew_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	//Biome scanner is what you need to unlock a biome
	MODULE
	{
		name = ModuleBiomeScanner
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = CrewCabScienceUpgrade
				description__ = The Crew Cabin now performs Geo-surveys
				moduleIsEnabled = true
			}
		}
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 2
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTKIS_TEMPLATE;OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE
		defaultTemplate = KIS
		capacityFactor = 0.1
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1500
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 4
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[j_4m_crew]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_J1;OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;PATH_HABITATION
		defaultTemplate = LFO
		capacityFactor = 0.9
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 8
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[l_6m_crew]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 12
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_L1;OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;PATH_HABITATION
		defaultTemplate = LFO
		capacityFactor = 2.6
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 18000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 8
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Tanks
@PART[ab_3m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.8
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_2m_em_mm|h_2m_em_fm|h_2m_nose_mm|h_2m_nose_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;OPTCMD_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.16
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_3m_fuel_mm|h_3m_fuel_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_H;OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;OPTKIS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.44
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_4m_nose_mm|h_4m_nose_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;OPTKIS_TEMPLATE;OPTCMD_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.48
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 2000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[mk2_nose_opt]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTCMD_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 2000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b_2m_bicoupler|j_2m_bicoupler|mk2b_adaptor|mk2j_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[b2_adaptor|b2_4m_adaptor_variant|ij_adaptor|ij_4m_adaptor_variant]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_2m_tanks]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.3
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_6m_cargo|a_6m_fuselage|c_6m_cargo|c_6m_tanks|jl_3m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[b_4m_tanks|j_4m_tanks]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_J2;OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_cockpit_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = Atmosphere
		!checkForOxygen = false
	}
	
	%RESOURCE[Atmosphere]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_A;OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE;OPTKIS_TEMPLATE;OPTCMD_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.5
		resourcesToKeep = ElectricCharge;Snacks;Food;Water;Oxygen;Waste;WasteWater;CarbonDioxide;IntakeAir;IntakeAtm;Atmosphere
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_docking_port]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.32
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[j_large_docking_port|b_docking_port]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.44
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[j_5m_nose]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_2m_bicoupler|c_2m_bicoupler|jk_3m_adaptor|k_2m_bicoupler|k_3m_fuelTank|l_3m_bicoupler]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[ab_7m_adaptor|jk_7m_adaptor|jl_7m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_6m_tanks|k_6m_fuelTank]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTFACTORY_K;OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTTAC_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Wings
@PART[opt_wing_a]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.32
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_pylon_a]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_wing_b|opt_pylon_b]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_wing_c]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[wing_1a]:NEEDS[Pathfinder]
{
	!RESOURCE[LiquidFuel] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.16
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Inline SAS
@PART[k_oms_hollow|kh_oms_hollow]:NEEDS[Pathfinder]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	%RESOURCE[ElectricCharge]
	{
		%amount = 2000
		%maxAmount = 2000
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.1
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[k_oms|l_oms_hollow]:NEEDS[Pathfinder]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	%RESOURCE[ElectricCharge]
	{
		%amount = 2000
		%maxAmount = 2000
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.15
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Drop Tanks
@PART[OPTdropTank]:NEEDS[Pathfinder]
{
	!RESOURCE,* {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[FSfuelSwitch] {}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = Oxidizer
		capacityFactor = 0.15
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[OPTdropTank2]:NEEDS[Pathfinder]
{
	!RESOURCE,* {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[FSfuelSwitch] {}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = Oxidizer
		capacityFactor = 0.3
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Power Spheres

// Feature mount and class for parts
SPHERE125:NEEDS[Pathfinder]
{
	author = JadeOfMaar
	name = Core
	title = Power Sphere Core Slot (1.25m)
	description = TBD.
	mass = 0.1
	// requiredResource = Equipment
	// requiredAmount = 600
	// reconfigureSkill = ConverterSkill
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Omni
	// glowPanel = WildBlueIndustries/000WildBlueTools/Decals/OmniGlow
	// toolTip = 
	// toolTipTitle = Your First Ponderosa Habitat!
	templateTags = 
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = FUSIONMIX
		templateTags = 
		BaseEfficiency = 1
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 450
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
}

SPHERE250:NEEDS[Pathfinder]
{
	author = JadeOfMaar
	name = Core
	title = Power Sphere Core Slot (2.5m)
	description = TBD.
	mass = 0.1
	// requiredResource = Equipment
	// requiredAmount = 600
	// reconfigureSkill = ConverterSkill
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Omni
	// glowPanel = WildBlueIndustries/000WildBlueTools/Decals/OmniGlow
	// toolTip = 
	// toolTipTitle = Your First Ponderosa Habitat!
	templateTags = 
	MODULE
	{
		name = WBIOmniConverter
		managedName = OmniConverter 1
		templateNodes = FUSIONMIX
		templateTags = 
		BaseEfficiency = 9
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 450
		ConverterName = OmniConverter 1
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = 1
	}
}

// Feature for parts
@PART[opt_powersphere1b]:NEEDS[Pathfinder]
{
	!MODULE[ModuleResourceConverter] {}
	!MODULE[ModuleOverheatDisplay] {}
	!MODULE[ModuleCoreHeat] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		templateNodes = FUSIONMIX
		resourcesToKeep: ElectricCharge;
		capacityFactor = 1
		baseStorage = 0
		maxStorage = 0
	}
}
@PART[opt_powersphere2]:NEEDS[Pathfinder]
{
	!MODULE[ModuleResourceConverter] {}
	!MODULE[ModuleOverheatDisplay] {}
	!MODULE[ModuleCoreHeat] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		templateNodes = FUSIONMIX
		resourcesToKeep: ElectricCharge;
		capacityFactor = 18
		baseStorage = 0
		maxStorage = 0
	}
}

// Feature mode/module for parts
FUSIONMIX:NEEDS[Pathfinder]
{
	templateTags = opt
	TechRequired:NEEDS[!CommunityTechTree] = experimentalElectrics
	TechRequired:NEEDS[CommunityTechTree] = fusionPower
	description = Produce power from FusionPellets.
	ConverterName = FusionPellets --> ElectricCharge
	StartActionName = Start FusionPellets
	StopActionName = Stop FusionPellets
	AutoShutdown = false
	UseSpecialistBonus = false
	EfficiencyBonus = 1
	INPUT_RESOURCE
	{
		ResourceName = FusionPellets
		Ratio = 0.000315
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectricCharge
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectroPlasma
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	// REQUIRED_RESOURCE
	// {
		// ResourceName = ElectricCharge
		// Ratio = 150
	// }
}

FUSIONMIX:NEEDS[Pathfinder]
{
	templateTags = opt
	TechRequired:NEEDS[!CommunityTechTree] = experimentalElectrics
	TechRequired:NEEDS[CommunityTechTree] = fusionPower
	description = Produce power from PreciousMetals.
	ConverterName = PreciousMetals --> ElectricCharge
	StartActionName = Start FusionPellets
	StopActionName = Stop FusionPellets
	AutoShutdown = false
	UseSpecialistBonus = false
	EfficiencyBonus = 1
	INPUT_RESOURCE
	{
		ResourceName = PreciousMetals
		Ratio = 0.000005
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectricCharge
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectroPlasma
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	// REQUIRED_RESOURCE
	// {
		// ResourceName = ElectricCharge
		// Ratio = 300
	// }
}

FUSIONMIX:NEEDS[Pathfinder]
{
	templateTags = opt
	TechRequired:NEEDS[!CommunityTechTree] = experimentalElectrics
	TechRequired:NEEDS[CommunityTechTree] = fusionPower
	description = Produce power from Hexagen.
	ConverterName = Hexagen --> ElectricCharge
	StartActionName = Start FusionPellets
	StopActionName = Stop FusionPellets
	AutoShutdown = false
	UseSpecialistBonus = false
	EfficiencyBonus = 1
	INPUT_RESOURCE
	{
		ResourceName = Hexagen
		Ratio = 0.000315
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectricCharge
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	OUTPUT_RESOURCE
	{
		ResourceName = ElectroPlasma
		Ratio = 300
		FlowMode = ALL_VESSEL
	}
	// REQUIRED_RESOURCE
	// {
		// ResourceName = ElectricCharge
		// Ratio = 150
	// }
}
